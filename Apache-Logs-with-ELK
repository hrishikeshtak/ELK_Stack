#### Apache HTTP Web Server

Apache Logs with kibana visualizations

Logstash Forwarder

On your Apache servers, open the logstash-forwarder.conf configuration file for editing:

sudo vi /etc/logstash-forwarder.conf

Add the following, in the "files" section, to send the Apache access logs as type "apache-access" 
to your ELK server:

  1. "files" : [
  2.  {
  3.    "paths": [
  4.      "/var/log/apache2/access.log"
  5.     ],
  6.    "fields": { "type": "apache-access" }
  7.  }
  8.]
  
Save and exit. Reload the Logstash Forwarder configuration to put the changes into effect:

sudo service logstash-forwarder restart

Logstash Filter: Apache

On your ELK server, create a new filter configuration file called 12-apache.conf:

sudo vi /etc/logstash/conf.d/12-apache.conf

Then add the following filter:

1. filter {
2.  if [type] == "apache-access" {
3.    grok {
4.      match => { "message" => "%{COMBINEDAPACHELOG}" }
5.    }
6.  }
7.}

Save and exit. Note that this filter will attempt to match messages of "apache-access" 
type with the COMBINEDAPACHELOG pattern, one the default Logstash patterns.

Now restart Logstash to reload the configuration:

sudo service logstash restart

Now your Apache logs will be gathered and filtered!





